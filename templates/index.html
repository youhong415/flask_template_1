<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>資料表管理</title>
    <link href="static/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">
    <h2 class="text-center">使用者列表</h2>

    <!-- 匯入資料 -->
    <div class="row mb-3">
        <div class="col-md-6">
            <input type="file" id="csv-file" class="form-control" accept=".csv">
        </div>
        <div class="col-md-6">
            <button class="btn btn-primary" onclick="importData()">匯入資料</button>
        </div>
    </div>

    <!-- 匯出按鈕 和 刪除勾選的資料按鈕 -->
    <div class="row mb-3">
        <div class="col-md-6">
            <button class="btn btn-success w-100" onclick="exportData()">匯出篩選後資料</button>
        </div>
        <div class="col-md-6">
            <button class="btn btn-danger w-100" onclick="batchDeleteSelected()">刪除選中的資料</button>
        </div>
    </div>

    <!-- 新增資料表單 -->
    <div class="row mb-3">
        <div class="col-md-4">
            <input type="text" id="new-name" class="form-control" placeholder="輸入 Name">
        </div>
        <div class="col-md-4">
            <input type="email" id="new-email" class="form-control" placeholder="輸入 Email">
        </div>
        <div class="col-md-4">
            <button class="btn btn-primary" onclick="addData()">新增</button>
        </div>
    </div>
    
    <!-- 表格 -->
    <table class="table table-bordered text-center">
        <thead class="table-dark">
            <tr>
                <th><input type="checkbox" id="select-all" onclick="selectAllRows()"> 全選</th>
                <th>ID <input type="text" class="form-control filter-input" oninput="filterTable()" data-column="1" placeholder="篩選 ID"></th>
                <th>Name <input type="text" class="form-control filter-input" oninput="filterTable()" data-column="2" placeholder="篩選 Name"></th>
                <th>Email <input type="text" class="form-control filter-input" oninput="filterTable()" data-column="3" placeholder="篩選 Email"></th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody id="user-table">
            <!-- JavaScript 動態填充 -->
        </tbody>
    </table>

    <script src="static/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
